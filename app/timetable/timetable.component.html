<ActionBar [title]="lessonDate | date: 'EEEE'">
    <NavigationButton android.systemIcon="ic_menu_back" (tap)="goBack()"></NavigationButton>
    <ActionItem ios.position="right"  android.position="actionBar">
        <Label class="p-r-15" [text]="lessonDate | date: 'dd/MM/yyyy'"></Label>
    </ActionItem>
</ActionBar>

<div *ngIf="hasLesson; else noLesson">                          
    <RadListView class="list-group" [items]="lesson">
        <GridLayout class="gridLayoutLayout" columns="*,*,*" tkExampleTitle tkToggleNavButton>
            <StackLayout col="0" (tap)="onLeftSwipeClick()">
                <Label text="LEFT" verticalAlignment="center" horizontalAlignment="center"></Label>
            </StackLayout>
            <ng-template tkListItemTemplate let-item="item">
                <StackLayout col="1" (tap)="onRightSwipeClick()">
                    <StackLayout class="list-group-item">
                        <Label class="list-group-item-heading" [text]="item.subject"></Label>
                        <Label class="list-group-item-text" [text]="item.class" ></Label>
                    </StackLayout>
                    <StackLayout class="list-group-item list-group-item-sub">
                        <GridLayout columns="auto, auto, auto" class="gridLayoutLayout">
                            <StackLayout col="0">
                                <Label [text]="item.startDate | date: 'HH:mm'"></Label>
                            </StackLayout>
                            <StackLayout col="1">
                                <Label text=" - "></Label>
                            </StackLayout>
                            <StackLayout col="2">
                                <Label [text]="item.endDate | date: 'HH:mm'"></Label>
                            </StackLayout>
                        </GridLayout>
                        <GridLayout columns="auto, auto" class="gridLayoutLayout">
                            <StackLayout col="0">
                                <Label text="Teacher: "></Label>
                            </StackLayout>
                            <StackLayout col="1">
                                <Label [text]="item.teacher"></Label>
                            </StackLayout>
                        </GridLayout>
                        <StackLayout>
                            <!-- <Label [text]="getPeriod(item.startDate, item.endDate)"></Label> -->
                        </StackLayout>
                    </StackLayout>
                    <StackLayout class="hr-light"></StackLayout>
                </StackLayout>
            </ng-template>

            <StackLayout col="2" (tap)="onRightSwipeClick()">
                <Label text="RIGHT" verticalAlignment="center" horizontalAlignment="center"></Label>
            </StackLayout>
        </GridLayout>
    </RadListView>
</div>

<ng-template #noLesson>
    <GridLayout rows="*" columns="*">
        <Label class="lbl-nolesson" row="0" style.verticalAlignment="center" text="You have no lessons today"></Label>
    </GridLayout>
</ng-template>

<ActivityIndicator [busy]="isLoading" horizontalAlignment="center"></ActivityIndicator>